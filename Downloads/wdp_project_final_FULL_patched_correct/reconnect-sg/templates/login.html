<!DOCTYPE html>
<html>
<head>
    <title>Login - Re:Connect SG</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <style>
        /* Loading Overlay Styles */
        #loading-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            z-index: 9999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: sans-serif;
        }
        .spinner {
            width: 50px; height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
  <link rel="stylesheet" href="{{ request.script_root }}/static/css/global_navbar.css">
</head>
<body style="background: #f8fafc; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0;" data-logged-in="{{ '1' if session.get('user_id') else '0' }}">
<div class="global-topbar" id="reconnect-global-navbar">
  <div class="brand">Re:Connect Global</div>
  <div class="actions">
    <button type="button" id="global-notif-btn">Notifications <span class="badge" id="global-notif-badge">0</span></button>
    <button type="button" id="global-chatbot-btn">Chatbot</button>
    <button type="button" id="global-access-btn">Accessibility</button>
  </div>
  <div class="panel" id="global-notif-panel">
    <header>Notifications</header>
    <div class="panel-body" id="global-notif-list">
      <div class="item">No notifications yet.</div>
    </div>
  </div>
  <div class="panel" id="global-chatbot-panel">
    <header>FAQ Chatbot</header>
    <div class="panel-body">
      <div id="global-chatbot-log" style="max-height:160px; overflow:auto;"></div>
      <form id="global-chatbot-form" class="chatbot-input">
        <input id="global-chatbot-input" type="text" placeholder="Ask a question...">
        <button type="submit">Send</button>
      </form>
    </div>
  </div>
  <div class="panel" id="global-access-panel">
    <header>Accessibility</header>
    <div class="panel-body">
      <div class="item">Use browser zoom for text size.</div>
      <div class="item">High contrast mode: Alt + Shift + H.</div>
      <div class="item">Keyboard navigation supported.</div>
    </div>
  </div>
</div>


    <div id="loading-overlay">
        <div class="spinner"></div>
        <h2 style="color: #1e293b;">Signing you in...</h2>
    </div>

    <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 100%; max-width: 400px;">
        <h2 style="text-align: center; margin-bottom: 30px; font-family: sans-serif;">Sign In</h2>
        <form method="POST" onsubmit="return startTransition()">
            <input type="text" name="username" placeholder="Username" required 
                   style="width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box;">
            <input type="password" name="password" placeholder="Password" required 
                   style="width: 100%; padding: 12px; margin-bottom: 25px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box;">
            <button type="submit" style="width: 100%; padding: 12px; background: #3b82f6; color: white; border: none; border-radius: 8px; font-weight: 700; cursor: pointer;">
                Login
            </button>
        </form>
    </div>

    <script>
        function startTransition() {
            // Show the loading screen
            document.getElementById('loading-overlay').style.display = 'flex';
            // Allow the form to actually submit to the server
            return true;
        }
    </script>
  <script src="{{ request.script_root }}/static/js/global_navbar.js"></script>
</body>
</html>
